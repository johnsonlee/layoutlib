apply plugin: 'com.vanniktech.maven.publish'

version = libs.versions.layoutlib.get()
description = "Android runtime for macOSX, fonts, and ICU data"

tasks.register('macJar', Jar) {
  archiveFileName = "native-mac-${version}.jar"
  destinationDirectory.set(file("${buildDir}/libs"))
  from(repoDir) {
    include 'data/mac/**'
    include 'data/fonts/**'
    include 'data/icu/**'
    exclude '**/BUILD'
  }
  dependsOn(':native-jdk11:cloneLayoutlib')
}

publishing {
  publications {
    mavenNativeLibrary(MavenPublication) {
      artifact macJar
      artifact emptySourcesJar
      artifact emptyJavadocJar
    }
  }
}
